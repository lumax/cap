I  : TODO`s
II : Installationsanweisungen
III: Update


I: TODO`s 


TODO:
-appcontroller line 96 kann keine links mit / am Ende vertragen
-Poll segfault mit Kommunikation am AMC beim Systemstart
-FehlerDialog:"Name zu kurz" in SDLK_F10 NewDialogKeyListener
-Abfrage ob Datei überschrieben werden soll (noch nicht gefordert)
	 -Dateinamen durchsuchen
-Versionsnummer anzeigen
-Vernümftig aus dem Programm aussteigen, wenn eine Kamera abgezogen
 wird usw. (ErrorMeldungen anzeigen)
-Zählrichtung änderbar
-Eingabe des Zylinderumfangs zur Berechnung der Startposition in mm anstatt °
-Drehwinkelgeber für die Fadenkreuze
-zu hohe Geschwindigkeit der Drehgeber erkennen und behandeln

HOFFENTLICH ERLEDIGT
-Farbschemata attraktiv gestalten
-Update System

ERLEDIGT:
-Bedienung des Messsystems über Maus Version 1.0
-Keypad Direkteingabe möglich
-CamInfo Dialog über F10 im ArbeitsDialog erreichbar, um einige Werte der Kamera
 ausprobieren zu können.
-Farbeffekte beim Laden der Applikation (show Funktionen)
-Video abspielen und zu Programm zurück
-Video endlos
-Fadenfarbe ist wirklich nicht schön
-Tastatureingabe von den Achsenwerten mit F8 im New oder SaveAs Dialog.
-F12 Cross Menue: Position speichern kriege ich nicht hin:
     Es musste in der Fadenkreuzeingabe mit Enter bestätigt werden,
     und dann im nächsten Dialog nocheinmal Enter, damit das Faden-
     kreuz übernommen und in den nächsten step gewechselt wurde.
     Jetzt reicht ein Enter im Fadenkreuzdialog um die Werte zu
     übernehmen.
-git hashes in Quellcode als Version einbinden
-Kommunikation zu Beginn unterbinden (protokoll init vor UART init)
-Rezepte löschen
-New Dialog : "Enter Name" und "Rezepte einstellen" uebersichtlicher
-Fehlender Z-Achsen Wert (bru)
-ArbeitsDialog:F2 von"save as" zu "edit" geändert	
-CalibrationDialog: mit F7 zeigt den Wert nicht an
-CalibrationDialog: Infozeile Weiss, Text Rot Text Größer
-CalibrationDialog: in gleichem Schema wie der Hauptbildschirm
-CalibrationDialog; Q1 usw. Texte gleich halten
-Programmstart Fadenkreuz in die Mitte
-F12: Exit Knopf im NoGUI Modus
-Fullscreen in config
-Filenamen mit 16 Zeichen
-New Dialog umgestalten


II : Installationsanweisungen
Diese Installationsanweisungen sollten einmal befolgt werden, damit 
dann mit dieser Installation ein Image für alle Geräte erstellt werden 
kann.

-nach libsdl Paketen suchen:
#bash> apt-cache search libsdl 

-Pakete installieren:
#bash> sudo apt-get install libsdl1.2debian
#bash> sudo apt-get libsdl-image1.2
#bash> sudo apt-get libsdl-ttf2.0

-das Verzeichnis /opt für den Benutzer nutzbar machen:
#bash> sudo chown -R <user>:<user> /opt

-Das Verzeichnis /opt/capmb_data erstellen
#bash> mkdir /opt/capmb_data

-Das Verzeichnis /opt/video erstellen
 und die Datei PlateExakt08.wmv in das Verzeichnis kopieren.
#bash> mkdir /opt/video

-Die aktuelle Version des Programms in dem /opt Verzeichnis entpacken, 
 sodaß der Inhalt von opt in etwa so aussieht:
#bash> ls /opt
video capmb_data 111030125900_capmb

-Einen symbolischen Link auf das Verzeichnis mit der aktuellen Version 
 des Programms erzeugen. In diesem Fall:
#bash> cd /opt
#bash> ln -fs 111030125900_capmb capmb

-Damit der User das System herunterfahren kann muss folgender Befehl
 ausgeführt werden:
#bash> sudo chmod +s /sbin/halt

-Damit der User das System herunterfahren kann muss folgender Befehl
 ausgeführt werden:
#bash> sudo chmod +s /sbin/shutdown

-öffnen des Dateibrowsers nach eingestecktem USB-Stick unterbinden:
1. Terminal öffnen
2. gconf-editor eingeben
3. /apps/nautilus/preferences/media_automount_open abschalten

-Applikation automatisch starten:
 Das appcontroller.sh Script kann nicht direkt über die Startprogramm
 Einstellungen gestartet werden, da die Applikation in dem Fall 
 anscheinend kein X-Window zur Verfügung hat. Außerdem benötigt der
 USB-Uart Konverter einige Zeit bis er Bereit ist.
 Das Script appcontroller.sh wird beim öffnen eines Terminals aufgerufen!

1. Das File .bashrc im Homeverzeichnis um folgende Zeilen erweitern:

# .bashrc appcontroller.sh Erweiterung Anfang:
cd /opt/capmb
sleep 2
echo waiting for usb-serial interface:
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
sleep 1
echo .
./appcontroller.sh &
# .bashrc appcontroller.sh Erweiterung Ende!

2. Im Gnome Autostart automatisch das Terminal starten:
2.1 Zusätzliches Startprogramm Hinzufügen:
2.2 Name: capmb terminal
2.3 Befehl: gnome-terminal
2.4 Kommentar: terminal mit cap in .bashrc
2.5 speichern!


III Update:

-das Datenverzeichnis muss sich außerhalb des Programmverzeichnisses
 befinden, damit die Rezepte nach einem Update weiter zur Verfügung 
 stehen.

 Das Verzeichnis ist in der cap.conf einzustellen: 
 /opt/capmb_data
 und muss vorhanden sein, sonst kommt es zu einem Absturz. 
 (mkdir /opt/capmb_data)

 Es muss neben den Verzeichnissen der Programmversionen (z.B. :
 111030135900_capmb ) das Verzeichnis video existieren, in diesem 
 video-Verzeichnis muss sich die Datei PlateExakt08.wmv befinden.

 Die Verzeichnisstruktur für das Programm sieht dann in etwa so aus:

 /opt/111030150057_capmb
 /opt/capmb --> link auf /opt/111030150057_capmb
 /opt/capmb_data
 /opt/video

 Nach einem Update ist die cap.conf Datei überschrieben worden.

 Ist eine Version erst einmal auf diese Weise erstellt, dann sollte 
 ein erneutes Update automatisch erfolgen. Das geschieht wenn 
 EIN USB-Stick mit einem aktuellerem Tarball Rootverzeichnis 
 eingesteckt ist. Das Script "appcontroller.sh" sucht nach dem Start nach 
 derartigen USB-Sticks, kopiert ggf. das Update und setzt den Link neu.
 Danach wird der Computer neu gebootet (so soll es zumindest sein!).